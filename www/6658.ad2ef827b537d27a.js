"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6658],{6658:(T,g,o)=>{o.r(g),o.d(g,{DashboardPageModule:()=>P});var h=o(177),p=o(9417),a=o(9893),d=o(9315),m=o(467),u=o(7392),_=o(6697),e=o(4438),f=o(8176),v=o(4796),F=o(7990),b=o(7291);function k(t,c){if(1&t&&(e.j41(0,"span",43),e.EFF(1),e.k0s()),2&t){const i=e.XpG().$implicit;e.R7$(),e.SpI("",i["wpc-pm-weight"]," Kg | ")}}function y(t,c){if(1&t&&(e.j41(0,"span",43),e.EFF(1),e.k0s()),2&t){const i=e.XpG().$implicit;e.R7$(),e.SpI("",i["wpc-pm-length"]," cm | ")}}function D(t,c){if(1&t&&(e.j41(0,"span",43),e.EFF(1),e.k0s()),2&t){const i=e.XpG().$implicit;e.R7$(),e.SpI("",i["wpc-pm-height"]," cm | ")}}function S(t,c){if(1&t&&(e.j41(0,"span",43),e.EFF(1),e.k0s()),2&t){const i=e.XpG().$implicit;e.R7$(),e.SpI("",i["wpc-pm-height"]," cm")}}function j(t,c){if(1&t&&(e.j41(0,"p",41),e.DNE(1,k,2,1,"span",42)(2,y,2,1,"span",42)(3,D,2,1,"span",42)(4,S,2,1,"span",42),e.k0s()),2&t){const i=c.$implicit;e.R7$(),e.Y8G("ngIf",i["wpc-pm-weight"]),e.R7$(),e.Y8G("ngIf",i["wpc-pm-length"]),e.R7$(),e.Y8G("ngIf",i["wpc-pm-height"]),e.R7$(),e.Y8G("ngIf",i["wpc-pm-height"])}}function I(t,c){if(1&t){const i=e.RV6();e.j41(0,"section",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"div",22)(5,"h5",8),e.EFF(6),e.k0s(),e.j41(7,"p",23),e.bIt("click",function(){const n=e.eBV(i).$implicit,r=e.XpG(2);return e.Njj(r.viewDetails(n.ID))}),e.EFF(8,"View Details >>"),e.k0s()(),e.DNE(9,j,5,4,"p",24),e.j41(10,"p",25),e.EFF(11),e.k0s(),e.j41(12,"p",25),e.EFF(13),e.k0s()()(),e.j41(14,"div",26),e.nrm(15,"ion-icon",27),e.j41(16,"div",28)(17,"div",29)(18,"div",30)(19,"div",31)(20,"p",32),e.EFF(21,"COLEX"),e.k0s()(),e.nrm(22,"div",33),e.k0s(),e.j41(23,"div",34),e.nrm(24,"div",35)(25,"div",36),e.k0s()()(),e.nrm(26,"hr",37)(27,"ion-icon",38),e.k0s(),e.j41(28,"div",39)(29,"h5",40),e.EFF(30),e.k0s()()()()}if(2&t){const i=c.$implicit;e.R7$(6),e.JRh(i.post_title),e.R7$(3),e.Y8G("ngForOf",i.shipment_packages),e.R7$(2),e.SpI("From: ",i.wpcargo_shipper_address,""),e.R7$(2),e.SpI("To: ",i.wpcargo_receiver_address,""),e.R7$(17),e.JRh(i.status)}}function w(t,c){if(1&t&&(e.j41(0,"div",16),e.DNE(1,I,31,5,"section",17),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.Y8G("ngForOf",i.searchedList)}}function $(t,c){if(1&t){const i=e.RV6();e.j41(0,"ion-col",48)(1,"ion-grid",49)(2,"ion-row",50)(3,"ion-col",51),e.nrm(4,"ion-icon",52),e.k0s(),e.j41(5,"ion-col",51)(6,"h4",53),e.EFF(7),e.k0s()(),e.j41(8,"ion-col",54)(9,"ion-button",55),e.bIt("click",function(){const n=e.eBV(i).$implicit,r=e.XpG(2);return e.Njj(r.viewShipment(n.key))}),e.EFF(10),e.k0s()()()()()}if(2&t){const i=c.$implicit;e.R7$(7),e.JRh(i.key),e.R7$(3),e.SpI("View All (",i.value,") ")}}function E(t,c){if(1&t&&(e.j41(0,"div")(1,"section",44)(2,"div",7)(3,"ion-text",3)(4,"h1",8),e.EFF(5,"Shipments by Status"),e.k0s()(),e.nrm(6,"ion-icon",45),e.k0s(),e.j41(7,"ion-grid")(8,"ion-row",46),e.DNE(9,$,11,2,"ion-col",47),e.nI1(10,"keyvalue"),e.k0s()()()()),2&t){const i=e.XpG();e.R7$(9),e.Y8G("ngForOf",e.bMT(10,1,i.shipments))}}const R=[{path:"",component:(()=>{class t{constructor(i,s,n,r,l,G){this.shipmentService=i,this.auth=s,this.router=n,this.toasterService=r,this.loadingController=l,this.storageService=G,this.page=1,this.search="",this.searchingFlag=!0,this.errorMessage=!1}ionViewWillLeave(){this.shipments=null,this.searchedList=null,this.authUser=null,this.authUserFullname=null}ionViewWillEnter(){this.loadDashboardData()}loadDashboardData(){this.presentLoading(),this.auth.userData$.pipe((0,_.s)(1)).subscribe(i=>{this.authUser=i,this.authUserFullname=i.first_name&&i.last_name?i.first_name+" "+i.last_name:i.username,this.authUser.apiKey&&this.shipmentService.getShipmentsAllStatus(this.authUser.apiKey).subscribe({next:s=>{this.loadingController.dismiss(),this.shipments=s,this.searchingFlag=!1},error:s=>{this.loadingController.dismiss();let n="Network Issue. ";n+=s.error?.message||"",this.toasterService.presentToast(n,"danger",6e3)}})})}viewShipment(i){this.router.navigate(["./home/shipments/"+i])}viewDetails(i){this.router.navigate(["./home/shipment/"+i])}createNewShipment(){this.router.navigate(["./home/create"])}onSearchShipment(){this.searchShipments()}onInput(){this.onClear()}onClear(){this.searchedList=null,this.searchingFlag=!1,this.errorMessage=!1}resetSearch(){this.searchedList=null,this.errorMessage=!1,this.search=""}searchShipments(){this.presentLoading(),this.searchingFlag=!0;let i={};i.search=this.search.trim(),this.shipmentService.searchShipment(this.authUser.apiKey,i).subscribe({next:s=>{this.errorMessage=s?"":"No result Found",this.searchedList=s,this.searchingFlag=!1,this.setDate(),this.loadingController.dismiss()},error:s=>{this.loadingController.dismiss();let n="Network Issue. ";n+=s.error?.message||"",this.errorMessage=n}})}setDate(){this.searchedList.forEach((s,n)=>{s.shipment_history&&Array.isArray(s.shipment_history)&&s.shipment_history.length>0&&(this.searchedList[n].current_date=s.shipment_history[0].date)})}presentLoading(){var i=this;return(0,m.A)(function*(){yield(yield i.loadingController.create({spinner:"bubbles",message:"Please wait...",duration:6e3})).present()})()}openSite(){u.P.open({url:"https://colexcargo.com/"})}static{this.\u0275fac=function(s){return new(s||t)(e.rXU(f.o),e.rXU(v.u),e.rXU(d.Ix),e.rXU(F.W),e.rXU(a.Xi),e.rXU(b.n))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-dashboard"]],decls:30,vars:5,consts:[["id","dark_backgrounded",1,"ion-no-border",3,"translucent"],["color","clear"],["slot","secondary",2,"width","100%"],["color","primary"],["id","app-logo","src","../../assets/images/logo.png","alt","Site Logo","height","35px",1,"inner-page"],[1,"ion-padding"],[1,"header-content"],[1,"greetings"],[1,"dark-blue","ion-text-start","title","ion-margin"],["name","partly-sunny-outline","color","warning"],["debounce","500","color","light","placeholder","Search Shipment","showCancelButton","never",1,"custom-search",3,"search","ionClear","ionInput","ngModelChange","ngModel"],[1,"shipment-dashboard","ion-padding"],["color","white"],["shape","default","color","primary","size","small",1,"ion-text-uppercase",3,"click"],["class","searched-shipments",4,"ngIf"],[4,"ngIf"],[1,"searched-shipments"],["class","inner-list",4,"ngFor","ngForOf"],[1,"inner-list"],[1,"display-latest-details"],[1,"details","content-0","greetings"],[1,"details","content-1"],[1,"mopving-truck"],[1,"package-details",3,"click"],["class","package-details ion-padding-left ion-margin-left",4,"ngFor","ngForOf"],[1,"package-details"],[1,"tracking-record"],["name","storefront","color","primary",1,"pickup-point"],[1,"travel"],[1,"car"],[1,"carbody"],[1,"carbody-1"],[1,"small-text"],[1,"carbody-2"],[1,"carcycle"],[1,"carcycle-1"],[1,"carcycle-2"],[1,"road"],["name","cube","color","primary",1,"dropoff-point"],[1,"status"],[1,"dark-blue","ion-text-center","ion-text-uppercase","title","ion-margin"],[1,"package-details","ion-padding-left","ion-margin-left"],["class","label-sm-indented",4,"ngIf"],[1,"label-sm-indented"],[1,"with-shipment-status","ion-no-padding","ion-margin-top"],["name","cube-outline","color","warning"],[1,"ion-no-padding"],["size","6","class","grid-with-background shadowed ion-padding",4,"ngFor","ngForOf"],["size","6",1,"grid-with-background","shadowed","ion-padding"],["color","primary",1,"ion-no-padding"],[1,"row-with-background","ion-align-items-center","ion-justify-content-center","ion-no-padding"],["size","12",1,"ion-text-center"],["name","barcode-outline"],[1,"white","ion-text-uppercase"],["size","12",1,"ion-text-center","ion-padding"],["shape","default","size","small","color","primary",1,"ion-text-uppercase",3,"click"]],template:function(s,n){1&s&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e.nrm(3,"ion-menu-button",3),e.j41(4,"ion-title",3),e.nrm(5,"img",4),e.k0s()()()(),e.j41(6,"ion-content",5)(7,"div",6)(8,"div",7)(9,"ion-text",3)(10,"h1",8),e.EFF(11),e.k0s()(),e.nrm(12,"ion-icon",9),e.k0s(),e.j41(13,"ion-searchbar",10),e.bIt("search",function(){return n.onSearchShipment()})("ionClear",function(){return n.onClear()})("ionInput",function(){return n.onInput()}),e.mxI("ngModelChange",function(l){return e.DH7(n.search,l)||(n.search=l),l}),e.k0s()(),e.j41(14,"section",11)(15,"div",7)(16,"ion-text",12)(17,"h3",8),e.EFF(18,"Rapidit\xe9."),e.k0s(),e.j41(19,"h3",8),e.EFF(20,"Fiabilit\xe9."),e.k0s(),e.j41(21,"h3",8),e.EFF(22,"Simplicit\xe9."),e.k0s()(),e.j41(23,"ion-text")(24,"h4"),e.EFF(25,"Send, receive, and manage your deliveries quickly and securely!"),e.k0s()(),e.j41(26,"ion-button",13),e.bIt("click",function(){return n.openSite()}),e.EFF(27,"Visit Site"),e.k0s()()(),e.DNE(28,w,2,1,"div",14)(29,E,11,3,"div",15),e.k0s()),2&s&&(e.Y8G("translucent",!0),e.R7$(11),e.SpI("Hello, ",n.authUserFullname,""),e.R7$(2),e.R50("ngModel",n.search),e.R7$(15),e.Y8G("ngIf",n.searchedList&&0==n.searchingFlag),e.R7$(),e.Y8G("ngIf",!n.searchedList))},dependencies:[h.Sq,h.bT,p.BC,p.vS,a.Jm,a.QW,a.hU,a.W9,a.lO,a.eU,a.iq,a.MC,a.ln,a.S1,a.IO,a.BC,a.ai,a.Gw,h.lG]})}}return t})()}];let C=(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[d.iI.forChild(R),d.iI]})}}return t})(),P=(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[h.MD,p.YN,a.bv,C]})}}return t})()}}]);